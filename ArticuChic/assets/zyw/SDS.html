<h1>Software Design Specification (SDS)</h1>
<p>Revision History: </p>
<table>
<thead>
<tr>
<th>Date</th>
<th>Author</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>Apr 10</td>
<td>Zin, Bob</td>
<td>First version</td>
</tr>
</tbody></table>
<style>#rev +table td:nth-child(1) { white-space: nowrap }</style>
<div id="rev"></div>

<p>[toc]</p>
<h2>1. Introduction</h2>
<h3>1.1 Intended Audience and Purpose</h3>
<p>The document is intended to help the customer understand the system design, and serves as the basis of task division and inter-module communication, providing design information for developers and testers.</p>
<h3>1.2 How to use the document</h3>
<p>The document is organized as follows:</p>
<ul>
<li>show the system design of embedded system module</li>
<li>show the detailed design of  modules</li>
</ul>
<h2>2. System Design</h2>
<h3>2.1 Context</h3>
<ul>
<li>The embedded system module is divided in three part. The first part is the Router to respond to the requests from the server. The second part is four function components. They are called by Router to complete requests. The last part is DataCollector. It serves as a medium for interacting with sensors.</li>
<li>The embedded system is planned to develop with python</li>
</ul>
<h3>2.2 Architecture</h3>
<h4>2.2.1 Component Diagram</h4>
<ul>
<li>version 1.0</li>
</ul>
<p><img src="./component.png" alt="component"></p>
<h2>3. Detailed Design</h2>
<h3>3.1 Class Diagram</h3>
<p>version 1.0</p>
<p><img src="./class.png" alt="class"></p>
<h3>3.2 Class Design</h3>
<h4>3.2.1 <code>Router</code></h4>
<h5><code>Attribute</code></h5>
<pre><code>IP: string		
</code></pre>
<p>The IP of server</p>
<pre><code>Port: int
</code></pre>
<pre><code>transactionlist: list
</code></pre>
<p>The list of objects for processing requests.</p>
<h5><code>Operation</code></h5>
<pre><code>Router.getResponse(dataInput: dict): dict
</code></pre>
<p>Call different functions of different objects in <code>transactionlist</code> according to <code>dataInput</code> to process server requests.</p>
<p>Return <code>dict</code> always.</p>
<pre><code>Router.start(): void
</code></pre>
<p>Start sensor clients to connect with sensors. And start http server to  wait and process server requests.</p>
<p>Return <code>None</code> always.</p>
<h4>3.2.2 <code>Transaction</code></h4>
<h5><code>Attribute</code></h5>
<pre><code>collectorlist: list
</code></pre>
<p>A list of SensorCollector objects.</p>
<h5><code>Operation</code></h5>
<pre><code>Transaction.getResponse(): dict
</code></pre>
<p>Process requests received by Router.</p>
<p>Return <code>dict</code> always. </p>
<pre><code>Transaction.checkSuitable(dataInput: dict): bool
</code></pre>
<p>Check if the request type matches the current object.</p>
<p>Return <code>true</code> if match successfully,  <code>false</code> otherwise.</p>
<h4>3.2.3 <code>RealTimeData</code></h4>
<h5><code>Attribute</code></h5>
<h5><code>Operation</code></h5>
<pre><code>RealTimeData.getResponse(): dict
</code></pre>
<p>Call <code>SensorCollector.getRealtimeData()</code> to request real-time data from sensors.</p>
<p>Return <code>dict</code> always.</p>
<pre><code>RealTimeData.checkSuitable(): bool
</code></pre>
<p>Check if the request matches the type of request that can be processed</p>
<p>Return <code>true</code> if match successfully,  <code>false</code> otherwise.</p>
<h4>3.2.4 <code>SensorStatus</code></h4>
<h5><code>Attribute</code></h5>
<h5><code>Operation</code></h5>
<pre><code>SensorStatus.getResponse(): dict
</code></pre>
<p>Call <code>SensorCollector.getSensorStatus()</code> to request sensor status information from sensors.</p>
<p>Return <code>dict</code> always.</p>
<pre><code>SensorStatus.checkSuitable(): bool
</code></pre>
<p>Check if the request matches the type of request that can be processed</p>
<p>Return <code>true</code> if match successfully,  <code>false</code> otherwise.</p>
<h4>3.2.5 <code>SensorDetails</code></h4>
<h5><code>Attribute</code></h5>
<h5><code>Operation</code></h5>
<pre><code>SensorDetails.getResponse(): dict
</code></pre>
<p>Get the sensors detail.</p>
<p>Return <code>dict</code> always.</p>
<pre><code>SensorDetails.checkSuitable(): bool
</code></pre>
<p>Check if the request matches the type of request that can be processed</p>
<p>Return <code>true</code> if match successfully,  <code>false</code> otherwise.</p>
<h4>3.2.6 <code>SensorCalibration</code></h4>
<h5><code>Attribute</code></h5>
<h5><code>Operation</code></h5>
<pre><code>SensorCalibration.getResponse(): dict
</code></pre>
<p>Call <code>SensorCollector.calibrateSensor()</code> to perform sensors calibration.</p>
<p>Return <code>dict</code> always.</p>
<pre><code>SensorCalibration.checkSuitable(): bool
</code></pre>
<p>Check if the request matches the type of request that can be processed</p>
<p>Return <code>true</code> if match successfully,  <code>false</code> otherwise.</p>
<h4>3.2.7 <code>SensorCollector</code></h4>
<h5><code>Attribute</code></h5>
<pre><code>datatranform: DataTranform
</code></pre>
<p>A object which can call <code>transformData()</code> to transform data.</p>
<pre><code>Mac: string
</code></pre>
<p>The Mac of sensor.</p>
<h5><code>Operation</code></h5>
<pre><code>SensorCollector.getRealtimeData(): dict
</code></pre>
<p>Request real-time data from sensors and then call <code>DataTransform.transformData()</code> to transform the format of data.</p>
<p>Return <code>dict</code> always.</p>
<pre><code>SensorCollector.getSensorStatus(): dict
</code></pre>
<p>Request request sensor status information from sensors and then call <code>DataTransform.transformData()</code> to transform the format of data.</p>
<p>Return <code>dict</code> always.</p>
<pre><code>SensorCollector.calibrate(): dict
</code></pre>
<p>Perform sensors calibration.</p>
<p>Return <code>dict</code> always.</p>
<pre><code>SensorCollector.start(): void
</code></pre>
<p>Connect with sensor, request data from sensor and check if connection is maintained, if not, reconnect with sensor.</p>
<p>Return <code>None</code> always.</p>
<h4>3.2.8 <code>DataTransform</code></h4>
<h5><code>Attribute</code></h5>
<h5><code>Operation</code></h5>
<pre><code>DataTransform.transformData(originData: dytes, type: string): dict
</code></pre>
<p>Transform the format of data from <code>dytes</code> to <code>double</code>.</p>
<p>Return <code>dict</code> always.</p>
